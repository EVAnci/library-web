<!-- Button trigger modal -->
<button type="button" class="btn btn-secondary mb-3 w-100 w-md-50 rounded-3 bg-light-purple" data-bs-toggle="modal" data-bs-target="#exampleModal">
  <i class="bi bi-journal"></i> Editar Copias
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Copias del libro: {{ copiesQuantity }}</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <div class="my-1" id="deleteAlertPlaceholder"></div>
        <div class="card">
          <div class="card-header">
            Indentificador Ãºnico de copia
          </div>
          <ul class="list-group list-group-flush">
            @for (copy of copies; track copy) {
              <li class="list-group-item d-flex justify-content-between">
                <p>
                  <strong>Copia ID: </strong>{{ copy.id }}
                </p>
                <button type="button" class="btn btn-outline-danger" (click)="deleteCopy(copy.id)">
                  <i class="bi bi-file-earmark-x"></i>
                </button>
              </li>
            }
          </ul>
        </div>

        <div class="accordion accordion-flush my-2" id="addCopies">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseAddCopy" aria-expanded="false" aria-controls="flush-collapseAddCopy">
                <p><i class="bi bi-file-earmark-plus"></i> Agregar copias</p>
              </button>
            </h2>
            <div id="flush-collapseAddCopy" class="accordion-collapse collapse" data-bs-parent="#addCopies">
              <div class="my-1" id="addAlertPlaceholder"></div>
              <div class="input-group my-3">
                <input 
                  type="text" 
                  class="form-control" 
                  [class.is-invalid]="addQuantityInvalid"
                  [class.is-valid]="!addQuantityInvalid && addQuantity.dirty"
                  placeholder="Cantidad de copias" 
                  aria-label="Cantidad de copias" 
                  aria-describedby="add-copy"
                  [formControl]="addQuantity">
                <button class="btn btn-success" type="button" id="add-copy" (click)="addCopies()">
                  <i class="bi bi-plus-circle-fill"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        

      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary bg-light-purple" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>